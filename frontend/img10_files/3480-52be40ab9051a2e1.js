"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3480],{26047:function(e,i,t){t.d(i,{H$:function(){return y},h3:function(){return I},mU:function(){return k},tg:function(){return S}});var n=t(52322),r=t(65610),s=t(38035),a=t(75009),l=t(43297),o=t(36474),c=t(77533),d=t(74409),u=t(17190),x=t(74008),h=t(42822),p=t(28535),j=t(25925),g=t(38045),m=t(2784),v=t(93689),C=t(65096),f=t(22411),_=t(70965);let b={position:"relative",fontWeight:"500",fontFamily:"p22-mackinac-pro, sans-serif",lineHeight:"1.2em",letterSpacing:"-0.03em",backgroundImage:"linear-gradient(50deg, #2b0aff, #ff5b8a 49%, #ff5b8a 53%, #ff5b8a 55%, #fba64b 77%, #f99b52)",backgroundClip:"text",color:"transparent"},w={enter:e=>({position:"absolute",width:"100%",x:"push"===e?"100%":"-100%",opacity:0}),center:{width:"100%",position:"static",x:0,opacity:1},exit:e=>({width:"100%",position:"absolute",x:"push"===e?"-100%":"100%",opacity:0})},k=(0,m.createContext)({push:()=>{},pop:()=>{}}),y=e=>{let{children:i,scenario:t,...l}=e,o=(0,_.iq)({base:!1,lg:!0}),c=(0,m.useRef)(),[d,u]=(0,m.useState)([i]),x=(0,m.useCallback)(e=>{c.current="push",u(i=>[...i,e])},[]),h=(0,m.useCallback)(()=>{c.current="pop",u(e=>e.slice(0,-1))},[]),p=(0,m.useMemo)(()=>({push:x,pop:h}),[x,h]),v=d[d.length-1];return(0,r.r)(()=>{i&&u(e=>[...e.slice(0,-1),i])},[i]),(0,n.jsxs)(s.k,{h:"100vh",justify:"center",children:[(0,n.jsx)(s.k,{bg:"white",flex:1,align:"center",maxW:["auto","auto","container.sm"],justify:"center",...l,children:(0,n.jsx)(k.Provider,{value:p,children:(0,n.jsx)(s.k,{overflow:"hidden",position:"relative",flex:"1",h:"100%",align:"center",justify:"center",children:(0,n.jsx)(j.M,{initial:!1,custom:c.current,children:(0,n.jsx)(g.E.div,{custom:c.current,variants:w,initial:!(d.length<=1)&&"enter",animate:"center",exit:"exit",transition:{default:{duration:.25}},style:{flex:1,display:"flex",height:"100%"},children:(0,n.jsx)(s.k,{flex:1,p:[6,12,24],overflow:"auto",align:"center",children:v})},d.length)})})})}),o&&(0,n.jsxs)(s.k,{bgColor:"linen",bg:"url('https://cdn.gamma.app/theme_images/soft-coal/softcoal-7_ce7c7e95.jpg')",bgSize:"cover",bgRepeat:"no-repeat",bgPosition:"center bottom",flex:1,pos:"relative",overflow:"hidden",children:[(0,n.jsx)(g.E.div,{transition:{ease:"easeInOut",duration:2,repeat:1/0},style:{position:"absolute",bottom:"13px",zIndex:1},children:(0,n.jsx)(a.E,{w:"250px",src:"https://cdn.gamma.app/zc87vhr30n8uf3n/fb59abe02a28477d8092f0e4d817bd78/original/just-the-waves.svg",zIndex:1})}),(0,n.jsx)(g.E.div,{animate:{x:[0,3,0],rotate:[0,1.2,0]},transition:{ease:"easeInOut",duration:3,repeat:1/0},style:{position:"absolute",bottom:"45px"},children:t!==C._M.ACCEPT_WORKSPACE_INVITATION&&t!==C._M.JOIN_WITH_CODE?(0,n.jsx)(a.E,{w:"250px",transform:"translate(30px,8px)",src:"https://cdn.gamma.app/zc87vhr30n8uf3n/98e24af9f2294c14b215d5e51963947d/original/just-the-boat.svg",zIndex:0}):(0,n.jsx)(a.E,{w:"250px",transform:"translate(30px,8px)",src:"https://cdn.gamma.app/zc87vhr30n8uf3n/513eb1d0e658464390df98f35a1bc620/original/Frame-86.svg",zIndex:0})})]})]})},I=e=>{let{lede:i,title:t,children:r,showFooter:s,showLogo:u=!1}=e;return(0,n.jsxs)(l.K,{spacing:"6",flex:1,h:"100%",children:[u&&(0,n.jsx)(a.E,{w:"100px",src:f.Z.src,alt:"Gamma logo"}),(0,n.jsx)(o.L,{}),i&&("string"==typeof i?(0,n.jsx)(c.x,{fontSize:"sm",color:"gray.500",children:i}):i),(0,n.jsx)(d.X,{sx:b,fontSize:["4xl","4xl"],children:t}),r,s&&(0,n.jsx)(E,{})]})},S=e=>{let{children:i}=e;return(0,n.jsx)(u.W,{fontSize:"sm",color:"gray.600",children:(0,n.jsxs)(l.K,{mt:12,children:[(0,n.jsx)(x.i,{borderColor:"gray.300",mb:4}),(0,n.jsx)(h.M,{children:i})]})})},E=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.L,{}),(0,n.jsx)(s.k,{align:"center",justify:"center",children:(0,n.jsx)(p.xu,{w:"10",children:v.TR})}),(0,n.jsxs)(c.x,{fontSize:"xs",textAlign:"center",color:"gray.500",children:["\xa9 ",new Date().getFullYear()," Gamma Tech, Inc."]})]})},65096:function(e,i,t){t.d(i,{DW:function(){return j},Mj:function(){return s},_M:function(){return a},r9:function(){return h}});var n,r,s,a,l=t(95405),o=t(64748),c=t(41638);let d=null,u=null;(n=s||(s={})).LOGIN_COMPLETE="loginComplete",n.LOGIN_FAILURE="loginFailure",n.SIGNUP_COMPLETE="signupComplete";let x=e=>{var i,t,n,r;let{event:s,errorCallback:a,redirectTo:l,doneCallback:c}=e,{data:d}=s;if("loginComplete"===d.type&&(0,o.O)({data:null==d?void 0:null===(i=d.payload)||void 0===i?void 0:i.data,redirectTo:l,doneCallback:c,shouldClientSideRedirect:!0,googleMethod:"POPUP"}),"signupComplete"===d.type&&(0,o.k)({data:null==d?void 0:null===(t=d.payload)||void 0===t?void 0:t.data,redirectTo:l,doneCallback:c,shouldClientSideRedirect:!0,googleMethod:"POPUP"}),"loginFailure"===d.type){let e=null==s?void 0:null===(r=s.data)||void 0===r?void 0:null===(n=r.payload)||void 0===n?void 0:n.code;if(!a){console.error("No error callback defined");return}if(!e){console.error("No code defined");return}a(e)}};(r=a||(a={})).ACCEPT_DOC_INVITATION="accept-doc-invitation",r.ACCEPT_WORKSPACE_INVITATION="accept-workspace-invitation",r.DOC_ACCESS_LINK="doc-access-link",r.JOIN_WITH_CODE="join-with-code",r.DEFAULT_LOGIN="login",r.SIGNUP="signup";let h={"accept-doc-invitation":"docInvitation","accept-workspace-invitation":"workspaceInvitation","doc-access-link":"docAccessLink","join-with-code":"joinLink",login:"signup",signup:"signup"},p=(e,i)=>{switch(e){case"join-with-code":{let{workspaceId:e,inviteCode:t,referredByUserId:n}=i,r=new URL("".concat(l.v.API_HOST||"https://gamma.app","/organizations/").concat(e,"/join/").concat(t));return n&&r.searchParams.set("referredByUserId",n),r.toString()}case"accept-doc-invitation":{let{docId:e,email:t,inviteCode:n}=i;return"".concat(l.v.API_HOST,"/invitations/docs/").concat(e,"/?inviteCode=").concat(n,"&email=").concat(t)}case"accept-workspace-invitation":{let{workspaceId:e,email:t,inviteCode:n}=i;return"".concat(l.v.API_HOST,"/invitations/workspaces/").concat(e,"?inviteCode=").concat(n,"&email=").concat(t)}case"doc-access-link":{let{docId:e,shareToken:t}=i;return"".concat(l.v.API_HOST,"/access-links/docs/").concat(e,"/?token=").concat(t)}case"signup":{let{inviteCode:e,referredByUserId:t,partnerStackClickId:n,partnerStackPartnerId:r}=i,s=new URL("".concat(l.v.API_HOST||"https://gamma.app","/signup"));return e&&s.searchParams.set("inviteCode",e),t&&s.searchParams.set("referredByUserId",t),n&&s.searchParams.set("partnerStackClickId",n),r&&s.searchParams.set("partnerStackPartnerId",r),s.toString()}default:return"".concat(l.v.API_HOST,"/login")}},j=e=>{let{type:i,params:t,errorCallback:n,redirectTo:r,doneCallback:s}=e,a=p(i,t),l="toolbar=no, menubar=no, width=600, height=700, top=100, left=100";null===d||d.closed?d=window.open(a,i,l):u!==a?null!==(d=window.open(a,i,l))&&d.focus():d.focus(),(0,c.a_)().addEventListener("message",e=>{x({event:e,errorCallback:n,redirectTo:r,doneCallback:s})}),u=a}},98046:function(e,i,t){t.d(i,{T:function(){return o}});var n,r,s=t(52322),a=t(5879),l=t(23691);(n=r||(r={})).invalid_signup_code="invalid_signup_code",n.invalid_reset_code="invalid_reset_code",n.invalid_user="invalid_user",n.other_workspace_member="other_workspace_member";let o={invalid_signup_code:{title:(0,s.jsx)(a.cC,{id:"F6yt1L",values:{GAMMA_PROPER_NOUN:l.N6}}),description:(0,s.jsx)(a.cC,{id:"hVNvhu"})},invalid_reset_code:{title:(0,s.jsx)(a.cC,{id:"SvShcH"}),description:(0,s.jsx)(a.cC,{id:"Vm3y4h"})},invalid_user:{title:(0,s.jsx)(a.cC,{id:"a2AYF6"}),description:(0,s.jsx)(a.cC,{id:"x9CdxW",values:{GAMMA_PROPER_NOUN:l.N6}})},other_workspace_member:{title:(0,s.jsx)(a.cC,{id:"J5F9Vo"}),description:(0,s.jsx)(a.cC,{id:"CTBeTd",values:{GAMMA_PROPER_NOUN:l.N6}})}}},9577:function(e,i,t){t.d(i,{Y:function(){return f}});var n=t(52322),r=t(38035),s=t(10625),a=t(67046),l=t(62614),o=t(99058),c=t(44035),d=t(39237),u=t(43297),x=t(77533),h=t(36474),p=t(82554),j=t(42946),g=t(49929),m=t(5879),v=t(30240),C=t(32132);let f=e=>{let{selectedLocale:i,onLocaleSelect:t,buttonProps:f,menuListProps:_,matchWidth:b=!0,hideLabel:w=!1}=e,k=(0,v.ye)("i18nEnabled");return(0,m.mV)(),(0,n.jsx)(r.k,{direction:"column",children:(0,n.jsxs)(s.v,{matchWidth:b,children:[(0,n.jsx)(a.j,{as:l.z,rightIcon:w?null:(0,n.jsx)(g.G,{size:"xs",icon:j.ptq}),textAlign:"left",w:"100%",...f,children:w?null:i.displayName}),(0,n.jsx)(o.q,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",..._,children:(0,n.jsx)(c._,{value:i.key,type:"radio",onChange:e=>{t(e)},children:(0,C.DD)(k).map(e=>{let i=!k&&"private_beta"===C.kf[e.key],t=!i&&"public_beta"===C.kf[e.key];return(0,n.jsx)(d.i,{value:e.key,isDisabled:i,children:(0,n.jsxs)(r.k,{flex:1,alignItems:"center",children:[(0,n.jsxs)(u.K,{spacing:0,children:[(0,n.jsx)(x.x,{fontWeight:"600",children:e.displayName}),(0,n.jsx)(x.x,{fontSize:"sm",color:"gray.500",children:e.displayNameLocalized()})]})," ",(0,n.jsx)(h.L,{}),i?(0,n.jsx)(p.C,{ml:2,fontSize:"0.75em",colorScheme:"blue",children:(0,n.jsx)(m.cC,{id:"VZeG/A"})}):t?(0,n.jsx)(p.C,{ml:2,fontSize:"0.75em",colorScheme:"green",children:(0,n.jsx)(m.cC,{id:"YBt9YP"})}):null]})},e.key)})})})]})})}},13592:function(e,i,t){t.d(i,{m:function(){return a}});var n=t(2784),r=t(71383),s=t(12153);let a=e=>{let i=(0,r.TL)();(0,n.useEffect)(()=>{i((0,s.ZT)({locale:e||null}))},[e]),(0,n.useEffect)(()=>()=>{i((0,s.ZT)({locale:null}))},[])}},73709:function(e,i,t){t.d(i,{q:function(){return o}});var n=t(52322),r=t(35183),s=t(82713),a=t(97166),l=t(5879);let o=e=>{let{onChange:i,emailEnabled:t}=e;return(0,n.jsxs)(r.NI,{display:"flex",gap:2,alignItems:"flex-start",justifyContent:"center",mt:4,mb:2,children:[(0,n.jsx)(s.X,{mt:"4px",isChecked:!0===t,onChange:i}),(0,n.jsx)(a.l,{fontSize:"sm",color:"gray.600",cursor:"pointer",children:(0,n.jsx)(l.cC,{id:"+RSTd/"})})]})}},6603:function(e,i,t){t.d(i,{t:function(){return o}});var n=t(2784),r=t(92035),s=t(40382),a=t(69465),l=t(63331);let o=e=>{let i=!(0,r.l6)()&&!(0,a.wg)();(0,s.GE)(i,"\n(function() {var gs = document.createElement('script');gs.src = 'https://try.gamma.app/pr/js';gs.type = 'text/javascript';gs.async = 'true';gs.onload = gs.onreadystatechange = function() {var rs = this.readyState;if (rs && rs != 'complete' && rs != 'loaded') return;try {growsumo._initialize('pk_ie2Y6ptIgL4W0XJY9AC7qKBmxHlLMwqZ'); if (typeof(growsumoInit) === 'function') {growsumoInit();}} catch (e) {}};var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gs, s);})();\n"),(0,n.useEffect)(()=>{e&&(0,l.X)(25,100)(()=>{var e;return(null===(e=window.growsumo)||void 0===e?void 0:e.initialized)===!0}).then(e).catch(()=>{console.warn("Timed out waiting for growsumo")})},[e])}},72190:function(e,i,t){t.d(i,{a:function(){return S}});var n=t(52322),r=t(28535),s=t(43297),a=t(35183),l=t(97166),o=t(7344),c=t(59905),d=t(73481),u=t(17993),x=t(85573),h=t(62614),p=t(64253),j=t(5879),g=t(87254),m=t(2784),v=t(69971),C=t(23691),f=t(97134);let _=[{id:"consulting",label:()=>g.ag._({id:"m5xed+"})},{id:"creator",label:()=>g.ag._({id:"UE2beD"})},{id:"customer_service",label:()=>g.ag._({id:"FfYIy2"})},{id:"data",label:()=>g.ag._({id:"HKH+W+"})},{id:"design",label:()=>g.ag._({id:"f8fH8W"})},{id:"education",label:()=>g.ag._({id:"aqxYLv"})},{id:"engineering",label:()=>g.ag._({id:"SUXBxp"})},{id:"finance",label:()=>g.ag._({id:"8V6XO3"})},{id:"human_resources",label:()=>g.ag._({id:"aDLrMs"})},{id:"leadership",label:()=>g.ag._({id:"HyFz7F"})},{id:"legal",label:()=>g.ag._({id:"vifyyw"})},{id:"marketing",label:()=>g.ag._({id:"vo2a+a"})},{id:"operations",label:()=>g.ag._({id:"B1MDds"})},{id:"product",label:()=>g.ag._({id:"K47k8R"})},{id:"recruiting",label:()=>g.ag._({id:"bn0SqF"})},{id:"sales",label:()=>g.ag._({id:"mUv9U4"})},{id:"other",label:()=>g.ag._({id:"/IX/7x"})}],b={"get-started":{saveButtonText:()=>g.ag._({id:"ZDIydz"}),formControlMaxW:["100%","80%","70%"],categoryQuestion:()=>g.ag._({id:"kJizcc"})},modal:{saveButtonText:()=>g.ag._({id:"hQRttt"}),formControlMaxW:["100%","60%"],categoryQuestion:()=>g.ag._({id:"06/kLN"})},setup:{saveButtonText:()=>g.ag._({id:"xGVfLh"}),formControlMaxW:["100%"],categoryQuestion:()=>g.ag._({id:"kJizcc"})}},w=[{id:"work",label:()=>g.ag._({id:"rgBHdd"})},{id:"education",label:()=>g.ag._({id:"RKJfzm"})},{id:"personal",label:()=>g.ag._({id:"jo0oU2"})}],k=[{id:"primary",label:()=>g.ag._({id:"LldObG"})},{id:"secondary",label:()=>g.ag._({id:"AtXGMV"})},{id:"university",label:()=>g.ag._({id:"DEb9mB"})},{id:"other",label:()=>g.ag._({id:"/IX/7x"})}],y=[{id:"student",label:()=>g.ag._({id:"a0qEkS"})},{id:"teacher",label:()=>g.ag._({id:"lypRAW"})},{id:"administrator",label:()=>g.ag._({id:"Faptqt"})},{id:"other",label:()=>g.ag._({id:"/IX/7x"})}],I=[{id:"friend",label:()=>g.ag._({id:"Gw0M4G"})},{id:"internet",label:()=>g.ag._({id:"mRh0Qq"})},{id:"search",label:()=>g.ag._({id:"z4/LHW"})},{id:"tiktok",label:()=>g.ag._({id:"zyUxcw"})},{id:"instagram",label:()=>g.ag._({id:"zzlbbf"})},{id:"youtube",label:()=>g.ag._({id:"9Q6UKX"})},{id:"linkedin",label:()=>g.ag._({id:"gggTBm"})},{id:"other",label:()=>g.ag._({id:"/IX/7x"})}],S=e=>{let{onSuccess:i,onError:t,context:S="get-started"}=e,{user:E,refetch:N}=(0,f.SE)(),[R,A]=(0,m.useState)(!1),[O,P]=(0,m.useState)(void 0),[T,M]=(0,m.useState)(void 0),[U,F]=(0,m.useState)(!1),[D,L]=(0,m.useState)(void 0),[z,G]=(0,m.useState)(void 0),[W,{loading:H,error:B}]=(0,v.kDo)(),[K,q]=(0,m.useState)(void 0),[J,X]=(0,m.useState)("student"),V="education"===D||"education"===O?K&&J:D,Y=R||!!B||!V,Q=H||R,Z=O&&!D,$=(0,m.useCallback)(()=>{let e="education"===D||"education"===O?"".concat(D,"_").concat(J,"_").concat(K):D;W({variables:{input:{id:null==E?void 0:E.id,referrer:T,jobFunction:e}}}).then(()=>(A(!0),null==N?void 0:N())).then(()=>{i&&i()}).catch(e=>{console.error('[GetStarted.UserInfo] Error updating user info "'.concat(null==E?void 0:E.id,'"'),e.message),A(!1),t&&t()})},[D,K,J,t,i,T,N,W,null==E?void 0:E.id,O]),{formControlMaxW:ee,saveButtonText:ei,categoryQuestion:et}=b[S];return(0,n.jsx)(r.xu,{w:"100%",children:(0,n.jsxs)(s.K,{pt:6,alignItems:"center",spacing:6,alignSelf:"center",mb:10,children:[(0,n.jsxs)(a.NI,{maxW:ee,as:"fieldset",isRequired:!0,children:[(0,n.jsx)(l.l,{children:et()}),(0,n.jsx)(o.E,{onChange:e=>{P(e),"education"===e&&"education"!==D?L("education"):L(z)},value:O,children:(0,n.jsx)(s.K,{direction:"column",spacing:2,children:w.map(e=>{let{id:i,label:t}=e;return(0,n.jsx)(c.Y,{value:i,children:t()},i)})})})]}),O&&(0,n.jsxs)(n.Fragment,{children:["education"!==O&&(0,n.jsxs)(a.NI,{maxW:ee,isRequired:!0,children:[(0,n.jsx)(l.l,{children:(0,n.jsx)(j.cC,{id:"SYYw/x"})}),(0,n.jsx)(d.P,{placeholder:g.ag._({id:"rjLlrw"}),isRequired:!0,value:D,onChange:e=>{let i=e.target.value;G(i),"work"===O&&"education"===i&&X("teacher"),L(i)},children:_.map((e,i)=>{let{label:t,id:r}=e;return(0,n.jsx)("option",{value:r,children:t()},"".concat(r,"-").concat(i))})})]}),("education"===O||"education"===D)&&(0,n.jsxs)(a.NI,{maxW:ee,isRequired:!0,children:[(0,n.jsx)(l.l,{children:(0,n.jsx)(j.cC,{id:"B+ClFT"})}),(0,n.jsxs)(u.g,{spacing:2,children:[(0,n.jsx)(d.P,{placeholder:g.ag._({id:"rjLlrw"}),isRequired:!0,value:J,onChange:e=>{X(()=>e.target.value)},children:y.map((e,i)=>{let{label:t,id:r}=e;return(0,n.jsx)("option",{value:r,children:t()},"".concat(r,"-").concat(i))})}),(0,n.jsx)(d.P,{placeholder:g.ag._({id:"rNbKca"}),isRequired:!0,onChange:e=>{q(()=>e.target.value)},value:K,children:k.map((e,i)=>{let{label:t,id:r}=e;return(0,n.jsx)("option",{value:r,children:t()},"".concat(r,"-").concat(i))})})]}),(0,n.jsx)(a.Q6,{fontSize:"xs",children:(0,n.jsx)(j.cC,{id:"9sEdx4"})})]}),(0,n.jsxs)(a.NI,{maxW:ee,children:[(0,n.jsx)(l.l,{children:(0,n.jsx)(j.cC,{id:"bxuHg8"})}),(0,n.jsxs)(u.g,{spacing:2,children:[(0,n.jsx)(d.P,{placeholder:g.ag._({id:"rjLlrw"}),value:U?"other":T,onChange:e=>{"other"===e.target.value?(F(!0),M("")):(F(!1),M(e.target.value))},children:I.map((e,i)=>{let{label:t,id:r}=e;return(0,n.jsx)("option",{value:r,children:t()},"".concat(r,"-").concat(i))})}),U&&(0,n.jsx)(x.I,{type:"text",value:T,onChange:e=>{M(e.target.value)}})]}),(0,n.jsx)(a.Q6,{fontSize:"xs",children:T&&(null==T?void 0:T.length)>4?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.cC,{id:"RNrV8M",values:{GRANT_PROPER_NOUN:C.XI}})," ",(0,n.jsx)("span",{role:"img","aria-label":g.ag._({id:"8K1shM"}),children:"\uD83D\uDE4F"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.cC,{id:"Bhgibl",values:{GRANT_PROPER_NOUN:C.XI}})," ",(0,n.jsx)("span",{role:"img","aria-label":g.ag._({id:"bh5RqM"}),children:"\uD83D\uDE0A"})]})})]})]}),(0,n.jsx)(s.K,{alignItems:"center",spacing:4,pt:4,children:(0,n.jsx)(p.kH,{label:(0,n.jsx)(j.cC,{id:"5G+MQW"}),isDisabled:!Z,placement:"top",children:(0,n.jsx)(r.xu,{children:(0,n.jsx)(h.z,{variant:"solid",size:"lg",isDisabled:Y,isLoading:Q,onClick:$,children:ei()})})})})]})})}},25974:function(e,i,t){t.d(i,{My:function(){return l},rK:function(){return d},r_:function(){return o},up:function(){return c}});var n=t(52322),r=t(5879),s=t(87254),a=t(69971);let l=1,o=()=>s.ag._({id:"cyLJM2"}),c=()=>s.ag._({id:"6h5uMS"}),d={[a.r3E.Admin]:{title:(0,n.jsx)(r.cC,{id:"U3pytU"}),description:(0,n.jsx)(r.cC,{id:"U4MLdj"})},[a.r3E.Member]:{title:(0,n.jsx)(r.cC,{id:"OvoEq7"}),description:(0,n.jsx)(r.cC,{id:"nslZjr"})}}},13480:function(e,i,t){t.d(i,{gL:function(){return eb},oP:function(){return e1},OQ:function(){return ev},NV:function(){return k},qy:function(){return ey},tq:function(){return e2},cL:function(){return el},Mo:function(){return ef},hn:function(){return eZ},Fh:function(){return eg},zd:function(){return eI}});var n=t(52322),r=t(70065),s=t(74409),a=t(81540),l=t(77533),o=t(5879),c=t(9351),d=t(2784),u=t(26047),x=t(69971),h=t(65096),p=t(23691),j=t(97134),g=t(25974),m=t(92035),v=t(21805),C=t(6603),f=t(32817),_=t(18960);let b=e=>{let[i,t]=(0,d.useState)(!1);(0,C.t)((0,d.useMemo)(()=>()=>t(!0),[]));let{partnerStackPartnerId:n,partnerStackClickId:r}=(0,d.useMemo)(()=>({partnerStackPartnerId:v.Z.get("ps_partner_key"),partnerStackClickId:v.Z.get("ps_xid")}),[i]),[s,a]=(0,f.I)(_.H.referredByUserId,e);return(0,d.useEffect)(()=>{e&&a(e)},[e,a]),{partnerStackPartnerId:n,partnerStackClickId:r,referredBy:s}},w=e=>{let{error:i}=e,t=(0,r.p)(),a=(0,g.r_)();return(0,d.useEffect)(()=>{i&&!t.isActive("api_error")&&t({id:"api_error",title:(0,n.jsx)(o.cC,{id:"udaO9j"}),description:(0,n.jsx)(o.cC,{id:"U0dCeS",values:{WORKSPACE_ADMIN_DISPLAY_NAME:a}}),status:"error",position:"top",isClosable:!1,duration:null})},[t,i,a]),(0,n.jsx)(s.X,{fontSize:"100px",children:(0,n.jsx)("span",{role:"img","aria-label":"see-no",children:"\uD83D\uDE48"})})},k=()=>{let{query:{orgId:e,code:i,r:t},isReady:r}=(0,c.useRouter)(),{user:s,isUserLoading:d}=(0,j.SE)(),{referredBy:g,partnerStackClickId:v,partnerStackPartnerId:C}=b(t),{status:f,data:_,error:k}=(0,x.$rd)({id:e,code:i},void 0,r),y=(0,m.Sp)();return"error"===f?(0,n.jsx)(w,{error:k}):(0,n.jsx)(u.H$,{scenario:h._M.JOIN_WITH_CODE,"data-testid":"join-workspace-wrapper",children:"loading"===f||d||!_?(0,n.jsx)(a.$,{}):(0,n.jsxs)(u.h3,{lede:(0,n.jsxs)(n.Fragment,{children:["\uD83C\uDF89 ",(0,n.jsx)(o.cC,{id:"5fucMx"})]}),title:s?(0,n.jsx)(o.cC,{id:"2wwLHe",values:{0:null==_?void 0:_.name}}):(0,n.jsx)(o.cC,{id:"L3SXbi",values:{0:null==_?void 0:_.name}}),showFooter:!0,showLogo:!0,children:[(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"s2FywE",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:p.aq,0:null==_?void 0:_.name}})}),y?(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"9iyJp1",values:{GAMMA_PROPER_NOUN:p.N6}})}):s?(0,n.jsx)(ey,{scenario:h._M.JOIN_WITH_CODE,inviteCode:i,workspaceId:e}):(0,n.jsx)(ev,{scenario:h._M.JOIN_WITH_CODE,redirectTo:"/",inviteCode:i,referredBy:g,workspaceId:e,partnerStackPartnerId:C,partnerStackClickId:v})]})})};var y=t(38035),I=t(43297),S=t(62614),E=t(29117),N=t(74008),R=t(35183),A=t(97166),O=t(85573),P=t(28535),T=t(11082),M=t(36474),U=t(97143),F=t(49929),D=t(39097),L=t.n(D),z=t(98046),G=t(55516),W=t(31601),H=t(55478),B=t(27988),K=t(74105),q=t(20816),J=t(32899),X=t(99793),V=t(87254),Y=t(63439);let Q=e=>{let i=[];return e.length<8&&i.push(V.ag._({id:"cUUVem"})),e.match(/[A-Z]/)||i.push(V.ag._({id:"+6oZdK"})),e.match(/[a-z]/)||i.push(V.ag._({id:"Cjay54"})),e.match(/[0-9]/)||i.push(V.ag._({id:"XcEl4D"})),e.match(/[\^$*.[\]{}()?"!@#%&/\\,><':;|_~`=+-]/)||i.push(V.ag._({id:"EodnCE"})),i},Z=(0,d.forwardRef)((e,i)=>{let{isOpen:t,onToggle:r}=(0,H.q)(),s=(0,d.useRef)(null),a=(0,B.q)(s,i),l=!!((null==e?void 0:e.error)&&e.error.length>1);return(0,n.jsxs)(R.NI,{isInvalid:l,children:[(0,n.jsx)(A.l,{htmlFor:"password",children:e.label||(0,n.jsx)(o.cC,{id:"8ZsakT"})}),(0,n.jsxs)(K.B,{children:[(0,n.jsx)(q.x,{children:(0,n.jsx)(J.h,{variant:"link","aria-label":t?V.ag._({id:"KJAyEq"}):V.ag._({id:"B+wtoH"}),icon:t?(0,n.jsx)(Y.MBb,{}):(0,n.jsx)(Y.Rbo,{}),onClick:()=>{r(),s.current&&s.current.focus({preventScroll:!0})},tabIndex:1})}),(0,n.jsx)(O.I,{id:"password",ref:a,name:"password",type:t?"text":"password",autoComplete:"current-password",required:!0,...e})]}),e.showHelp&&(0,n.jsx)(R.Q6,{children:(0,n.jsx)(o.cC,{id:"v6cuzy"})}),e.error&&(0,n.jsx)(X.J1,{children:e.error})]})});Z.displayName="PasswordField";var $=t(40382);let ee=e=>{let[i,t]=(0,d.useState)(!1),r=(0,d.useCallback)(()=>new Promise(t=>{if(!i){t(!0);return}setTimeout(()=>{throw Error(e)},1500)}),[e,i]);return{honeypotElement:(0,n.jsx)("input",{type:"text",name:"email-input-0",autoComplete:"off",tabIndex:-1,onChange:()=>t(!0)}),honeypotTriggered:i,validateHoneypot:r}};var ei=t(95405),et=t(69962),en=t(30240);let er=["high","unknown"],es=(e,i)=>{let[t,n]=(0,d.useState)(!1),[r,s]=(0,d.useState)(!1),[a,l]=(0,d.useState)(null),[o,c]=(0,d.useState)(!1),[u,h]=(0,d.useState)(null),{enabled:p,checkboxRiskLevels:j}=(0,en.ye)("recaptcha"),[g]=(0,x.U44)({nextFetchPolicy:"network-only"}),m=(0,d.useCallback)(async()=>new Promise(e=>{if(!i.current)throw Error("[useRecaptcha] Cannot find recaptcha checkbox");n(!0),o||grecaptcha.enterprise.render(i.current,{sitekey:ei.v.RECAPTCHA_CHECKBOX_KEY,size:"normal",callback:i=>{e(i),n(!1),c(!0)}})}),[o,i]);return{initiateRecaptchaAssessment:(0,d.useCallback)(async function(){var i,t;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o)return Promise.resolve();s(!0);let r=a;if(r||l(r=await (0,et.Uj)(e).catch(i=>{throw Error("[useRecaptcha] error for ".concat(e,": ").concat(i))})),!p)return s(!1),Promise.resolve();let c=u;if(!c){if(!(c=await g({variables:{token:r,action:e}})))throw Error("[useRecaptcha] No risk score");h(c),s(!1)}let d=null===(t=c.data)||void 0===t?void 0:null===(i=t.assessRisk)||void 0===i?void 0:i.risk;if(!d||er.includes(d))throw Error("Oops, something went wrong.");(j.includes(d)||n)&&await m()},[e,g,j,o,m,p,a,u]),isAssessmentInProgress:r,isChallengeInProgress:t,hasVerifiedCaptcha:o}},ea=e=>{let{scenario:i,redirectTo:t,r:s,workspaceId:a,inviteCode:u}=e,p=(0,r.p)(),{push:g}=(0,c.useRouter)(),[m,v]=(0,d.useState)(""),[C,f]=(0,d.useState)(""),{honeypotElement:_,honeypotTriggered:w}=ee("UNEXPECTED_SIGNIN_ERROR__HP_01"),k=m.length>0&&C.length>0,{user:D,refetch:H,setCurrentWorkspaceId:B}=(0,j.SE)(),[K,{loading:q,error:J,reset:X}]=(0,x.Asr)(),V=(0,d.useRef)(null),{initiateRecaptchaAssessment:Y,isChallengeInProgress:Q,isAssessmentInProgress:$,hasVerifiedCaptcha:ei}=es(x.e8z.Signin,V),et=(0,G.K)(),en=(0,d.useMemo)(()=>et.get(),[et]),{referredBy:er,partnerStackClickId:ea,partnerStackPartnerId:el}=b(s),eo=(0,d.useCallback)(e=>{let{title:i,description:t}=z.T[e]||{title:(0,n.jsx)(o.cC,{id:"U7nnQt"}),description:e};p.isActive(e)||p({title:i,description:t,position:"top",id:e,status:"error",isClosable:!0,duration:null})},[p]),ec=(0,d.useCallback)(async()=>{await (null==H?void 0:H()),a&&B(a)},[H,B,a]),ed=q||$,eu=(0,d.useCallback)(async e=>{e.preventDefault(),ed||(await Y(w),K({variables:{input:{email:m,password:C,invite:{flow:h.r9[i],workspaceId:a,inviteCode:u}}}}).then(async()=>{var e;W.co.identify(null==D?void 0:D.id,{user_org_id:null==D?void 0:null===(e=D.organizations)||void 0===e?void 0:e[0].id,anonymous_user:!1,gamma_user_id:null==D?void 0:D.id}),W.co.track(W.AA.LOGIN,{provider:"password"},{context:en}),await (null==H?void 0:H()),a&&B(a),g(t||"/")}).catch(e=>{console.error("[Signin.onSigninClick] Error signing in",e.message)}))},[en,m,w,Y,u,ed,C,g,t,H,i,B,K,null==D?void 0:D.id,null==D?void 0:D.organizations,a]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.k,{as:"form",direction:"column",onSubmit:eu,children:(0,n.jsxs)(I.K,{spacing:5,children:[(0,n.jsxs)(I.K,{spacing:5,children:[(0,n.jsx)(S.z,{variant:"solid",leftIcon:(0,n.jsx)(F.G,{icon:U.xYR}),onClick:()=>{(0,h.DW)({type:i,errorCallback:eo,params:{workspaceId:a,inviteCode:u,partnerStackClickId:ea,partnerStackPartnerId:el,referredByUserId:er},doneCallback:i===h._M.ACCEPT_WORKSPACE_INVITATION&&a?ec:void 0,redirectTo:t})},children:(0,n.jsx)(o.cC,{id:"oZyG4C"})}),(0,n.jsxs)(E.U,{children:[(0,n.jsx)(N.i,{}),(0,n.jsx)(l.x,{fontSize:"sm",whiteSpace:"nowrap",color:"muted",children:(0,n.jsx)(o.cC,{id:"BzEFor"})}),(0,n.jsx)(N.i,{})]})]}),_,(0,n.jsxs)(R.NI,{children:[(0,n.jsx)(A.l,{htmlFor:"email",children:(0,n.jsx)(o.cC,{id:"O3oNi5"})}),(0,n.jsx)(O.I,{id:"email",type:"email",value:m,onChange:e=>{v(e.currentTarget.value),J&&X()},isDisabled:Q||ed,autoFocus:!0})]}),(0,n.jsx)(Z,{value:C,onChange:e=>{f(e.currentTarget.value),J&&X()},error:null==J?void 0:J.message,isDisabled:Q||ed}),(0,n.jsx)(P.xu,{className:"recaptcha-checkbox-signin",ref:V,display:Q||ei?"block":"none"}),(!Q||ei)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T.r,{fontWeight:"500",color:"trueblue.500",href:"/forgot",as:L(),children:(0,n.jsx)(o.cC,{id:"UNMVei"})}),(0,n.jsx)(I.K,{spacing:"6",children:(0,n.jsx)(S.z,{type:"submit",variant:"plain",w:"100%",onClick:eu,isLoading:ed,isDisabled:!k||$,children:(0,n.jsx)(o.cC,{id:"5lWFkC"})})}),(0,n.jsxs)(l.x,{fontSize:"sm",textAlign:"center",children:[(0,n.jsx)(o.cC,{id:"ln9/n9"})," ",(0,n.jsx)(T.r,{color:"trueblue.500",href:"/signup",as:L(),children:(0,n.jsx)(o.cC,{id:"e+RpCP"})})]})]})]})}),(0,n.jsx)(M.L,{})]})},el=()=>{let e=(0,r.p)(),{query:{logout_success:i,r:t,redirect_to:s,scenario:a,workspaceId:x,inviteCode:j}}=(0,c.useRouter)(),g=a||h._M.DEFAULT_LOGIN;(0,d.useEffect)(()=>{i&&!e.isActive("logout_success")&&e({id:"logout_success",title:(0,n.jsx)(o.cC,{id:"tG+Uw3"}),status:"success",position:"top",duration:5e3})},[i,e]);let v=(0,$.gF)(),C=(0,m.Sp)()&&v;return(0,n.jsx)(u.H$,{scenario:g,"data-testid":"signin-with-google-wrapper",children:(0,n.jsx)(u.h3,{title:(0,n.jsx)(o.cC,{id:"5lWFkC"}),showLogo:!0,showFooter:!0,children:C?(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"jO28tJ",values:{GAMMA_PROPER_NOUN:p.N6}})}):(0,n.jsx)(ea,{redirectTo:s,scenario:g,workspaceId:x,inviteCode:j,r:t})})})};var eo=t(87651),ec=t(42946),ed=t(82554),eu=t(54933);let ex=()=>{let e=(0,en.ye)("ai-credits"),i=e.referralBonus;return e.enabled?(0,n.jsxs)(E.U,{borderRadius:"md",p:4,spacing:3,background:"teal.50",children:[(0,n.jsx)(P.Cd,{size:10,display:"flex",alignItems:"center",justifyContent:"center",color:"teal.600",background:"teal.100",fontSize:"xl",children:(0,n.jsx)(F.G,{fixedWidth:!0,icon:eu.LEp})}),(0,n.jsxs)(I.K,{spacing:1,children:[(0,n.jsxs)(l.x,{fontSize:"md",fontWeight:"semibold",children:[(0,n.jsx)(o.cC,{id:"URbt4b",values:{GAMMA_PROPER_NOUN:p.N6}}),(0,n.jsx)("span",{role:"img","aria-label":"celebration emoji",children:"\uD83C\uDF89"})]}),(0,n.jsx)(l.x,{fontSize:"sm",children:(0,n.jsx)(o.cC,{id:"B6we0c",values:{referralBonus:i},components:{0:(0,n.jsx)(ed.C,{colorScheme:"green"})}})})]})]}):null};var eh=t(38017),ep=t(7523);let ej=()=>(0,n.jsx)(l.x,{fontSize:"xs",color:"gray.600",children:(0,n.jsx)(o.cC,{id:"9pewn9",values:{GAMMA_PROPER_NOUN:p.N6},components:{0:(0,n.jsx)(T.r,{target:"_blank",href:ep.B,textDecoration:"underline"}),1:(0,n.jsx)(T.r,{target:"_blank",href:ep.h,textDecoration:"underline"})}})}),eg=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,em={position:"relative",fontWeight:"500",fontFamily:"p22-mackinac-pro, sans-serif",lineHeight:"1.2em",letterSpacing:"-0.03em",backgroundImage:"linear-gradient(50deg, #2b0aff, #ff5b8a 49%, #ff5b8a 53%, #ff5b8a 55%, #fba64b 77%, #f99b52)",backgroundClip:"text",color:"transparent"},ev=e=>{let{scenario:i,redirectTo:t,inviteCode:s,referredBy:a,workspaceId:c,inviteeEmail:p,partnerStackClickId:j,partnerStackPartnerId:g}=e,m=(0,r.p)(),{push:v}=(0,d.useContext)(u.mU),[C,f]=(0,d.useState)(""),{honeypotElement:_,honeypotTriggered:b}=ee("UNEXPECTED_SIGNUP_ERROR__HP_01"),[w,{loading:k,error:y}]=(0,x.QnR)(),M=(0,en.ye)("passwordSignup"),D="/signin";(i===h._M.ACCEPT_WORKSPACE_INVITATION||i===h._M.JOIN_WITH_CODE)&&(D="".concat(D,"?scenario=").concat(i,"&workspaceId=").concat(c,"&inviteCode=").concat(s));let G=e=>{let{title:i,description:t}=z.T[e]||{title:(0,n.jsx)(o.cC,{id:"U7nnQt"}),description:e};m.isActive(e)||m({title:i,description:t,position:"top",id:e,status:"error",isClosable:!0,duration:null})},W=!!C.match(eg),H=(0,d.useCallback)(async e=>{if(e.preventDefault(),k)return;let t=x.e8z.Signup,r=await (0,et.Uj)(t).catch(e=>{throw Error("[getRecaptchaToken] error for ".concat(t,": ").concat(e))}),l=h.r9[i];(0,eh.Fg)("PASSWORD"),w({variables:{input:{email:C,token:r,invite:{flow:l,workspaceId:c,inviteCode:s},scenario:x.nUC.Setup,referredByUserId:a,partnerStackClickId:j,partnerStackPartnerId:g}}}).then(e=>{var i;let{link:t,provider:r}=(null===(i=e.data)||void 0===i?void 0:i.sendCode)||{};v((0,n.jsx)(eC,{email:C,link:t,provider:r}))}).catch(e=>{console.error("[Signup.onSubmitClick] Error signing up",e.message)})},[C,s,k,j,g,v,a,i,w,c]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P.xu,{as:"form",onSubmit:H,children:(0,n.jsxs)(I.K,{spacing:5,children:[(0,n.jsx)(eo.U,{in:!C,children:(0,n.jsxs)(I.K,{spacing:5,children:[(0,n.jsx)(S.z,{variant:"solid",leftIcon:(0,n.jsx)(F.G,{icon:U.xYR}),onClick:()=>{(0,h.DW)({type:i,params:{workspaceId:c,email:p,inviteCode:s,referredByUserId:a,partnerStackClickId:j,partnerStackPartnerId:g},errorCallback:G,redirectTo:t}),(0,eh.Fg)("GOOGLE")},children:(0,n.jsx)(o.cC,{id:"oZyG4C"})}),M&&(0,n.jsxs)(E.U,{children:[(0,n.jsx)(N.i,{}),(0,n.jsx)(l.x,{fontSize:"sm",whiteSpace:"nowrap",color:"muted",children:(0,n.jsx)(o.cC,{id:"BzEFor"})}),(0,n.jsx)(N.i,{})]})]})}),_,M&&(0,n.jsxs)(R.NI,{children:[(0,n.jsx)(A.l,{htmlFor:"email",children:(0,n.jsx)(o.cC,{id:"O3oNi5"})}),(0,n.jsx)(O.I,{id:"email",type:"email",value:C,isDisabled:k,textTransform:"lowercase",onChange:e=>f(e.currentTarget.value.toLowerCase()),autoFocus:!0}),y&&(0,n.jsx)(X.J1,{children:y.message}),(0,n.jsx)(eo.U,{in:!C,children:(0,n.jsx)(l.x,{fontSize:"sm",textAlign:"left",mt:4,children:(0,n.jsx)(o.cC,{id:"0tPXOa",components:{0:(0,n.jsx)(T.r,{color:"trueblue.500",href:D,as:L()})}})})})]}),(0,n.jsx)(ej,{}),(0,n.jsx)(P.xu,{children:(0,n.jsx)(eo.U,{in:!!C,children:(0,n.jsx)(S.z,{type:"submit",variant:"solid",w:"100%",onClick:H,isDisabled:!W,isLoading:k,children:(0,n.jsx)(o.cC,{id:"3gCD+B"})})})})]})}),a&&(0,n.jsx)(ex,{})]})},eC=e=>{let{email:i,link:t,provider:r}=e;return(0,n.jsxs)(I.K,{spacing:"6",flex:1,children:[(0,n.jsx)(s.X,{sx:em,fontSize:["4xl","4xl"],children:(0,n.jsx)(o.cC,{id:"U8N77O"})}),(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"pHlHvu",values:{email:i},components:{0:(0,n.jsx)("strong",{})}})}),(0,n.jsx)(I.K,{spacing:5}),(0,n.jsx)(I.K,{spacing:"6",children:(0,n.jsx)(eo.U,{in:!!i,children:t&&r&&(0,n.jsx)(S.z,{w:"100%",onClick:()=>window.open(t,"_blank"),variant:"plain",rightIcon:(0,n.jsx)(F.G,{icon:ec.wlW}),autoFocus:!0,children:(0,n.jsx)(o.cC,{id:"y1RN4W",values:{provider:r}})})})})]})},ef=()=>{let e=(0,r.p)(),{query:{redirect_to:i,code:t,r:s,error:a},push:x,isReady:g}=(0,c.useRouter)(),{user:v,isUserLoading:C}=(0,j.SE)(),{referredBy:f,partnerStackClickId:_,partnerStackPartnerId:w}=b(s);(0,d.useEffect)(()=>{var e;!C&&v&&(null===(e=v.workspaceMemberships)||void 0===e?void 0:e.length)&&x(i||"/")},[C,v,x,i]),(0,d.useEffect)(()=>{if(a&&a in z.T){let{title:i,description:t}=z.T[a]||{title:(0,n.jsx)(o.cC,{id:"U7nnQt"}),description:a};e.isActive("error")||e({id:"error",title:i,description:t,status:"error",position:"top",duration:null})}},[a,e]);let k=(0,m.Sp)();return g?(0,n.jsx)(u.H$,{scenario:h._M.SIGNUP,"data-testid":"signup-with-google-wrapper",children:(0,n.jsx)(u.h3,{title:(0,n.jsx)(o.cC,{id:"e+RpCP"}),showFooter:!0,showLogo:!0,children:k?(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"9iyJp1",values:{GAMMA_PROPER_NOUN:p.N6}})}):(0,n.jsx)(ev,{scenario:h._M.SIGNUP,redirectTo:i,inviteCode:t,referredBy:f,partnerStackPartnerId:w,partnerStackClickId:_})})}):null};var e_=t(50476);let eb=()=>{let{user:e,isUserLoading:i}=(0,j.SE)(),{query:{docId:t,email:r,code:s},push:u,isReady:h}=(0,c.useRouter)(),{data:p,loading:g}=(0,x.DjO)({variables:{docId:t,email:r,inviteCode:s},skip:!s||!r||!t}),[v]=(0,x.CF8)(),C="/docs/".concat(t),f=!h||i||g;return(0,d.useEffect)(()=>{!f&&t&&e&&p&&(p.docInvitation?v({variables:{docId:p.docInvitation.docId,email:p.docInvitation.email,inviteCode:s}}).then(()=>{u(C)}).catch(e=>{console.error(e)}):u(C))},[f,e,t,u,C,p,v,s]),(0,n.jsx)(e_.XJ,{showFooter:!0,"data-testid":"doc-invitation-wrapper",children:f?(0,n.jsx)(a.$,{}):p&&p.docInvitation&&!e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ew,{docId:t,docTitle:p.docInvitation.docTitle,invitedByDisplayName:p.docInvitation.invitedBy.displayName,email:r,inviteCode:s,redirectTo:C}),(0,n.jsx)(e_.ER,{children:(0,n.jsxs)(l.x,{children:[(0,n.jsx)(o.cC,{id:"8wYDMp"})," ",(0,n.jsx)(T.r,{textDecoration:"underline",href:"/signin",target:(0,m.Q5)()?"_self":"_blank",children:(0,n.jsx)(o.cC,{id:"RzFKOQ"})})]})})]}):p&&e?(0,n.jsx)(a.$,{}):(0,n.jsx)(ek,{email:r})})},ew=e=>{let{docId:i,docTitle:t,invitedByDisplayName:s,email:a,inviteCode:c,redirectTo:d}=e,u=(0,r.p)(),x=e=>{let{title:i,description:t}=z.T[e]||{title:(0,n.jsx)(o.cC,{id:"U7nnQt"}),description:e};u.isActive(e)||u({title:i,description:t,position:"top",id:e,status:"error",isClosable:!0,duration:null})};return(0,n.jsxs)(e_.qX,{lede:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{role:"img","aria-label":V.ag._({id:"owjSLs"}),children:"\uD83D\uDC4B"})," ",(0,n.jsx)(o.cC,{id:"2wbD8h"})]}),title:(0,n.jsx)(o.cC,{id:"DbYuFS",values:{GAMMA_PROPER_NOUN:p.N6}}),children:[(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"p3SJdk",values:{GAMMA_ARTIFACT_PROPER_NOUN:p.Yc,docTitle:t,invitedByDisplayName:s}})}),(0,n.jsxs)(I.K,{spacing:4,align:"center",alignSelf:"center",children:[(0,n.jsx)(S.z,{variant:"solid",leftIcon:(0,n.jsx)(F.G,{icon:U.xYR}),size:"lg",mt:6,onClick:()=>{(0,h.DW)({type:h._M.ACCEPT_DOC_INVITATION,params:{docId:i,email:a,inviteCode:c},errorCallback:x,redirectTo:d})},children:(0,n.jsx)(o.cC,{id:"apxsZF"})}),(0,n.jsx)(ej,{})]})]})},ek=e=>{let{email:i}=e;return(0,n.jsx)(e_.qX,{lede:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{role:"img","aria-label":V.ag._({id:"+6IPye"}),children:"\uD83D\uDE41"})," ",(0,n.jsx)(o.cC,{id:"uAjg3Y"})]}),title:(0,n.jsx)(o.cC,{id:"0dimUT"}),children:(0,n.jsx)(l.x,{children:i?(0,n.jsx)(o.cC,{id:"rpHTpL",values:{email:i}}):(0,n.jsx)(o.cC,{id:"VSc47y"})})})},ey=e=>{let{scenario:i,inviteCode:t,workspaceId:s}=e,a=(0,r.p)(),{push:l}=(0,c.useRouter)(),{refetch:u,user:p,isUserLoading:g,setCurrentWorkspaceId:m}=(0,j.SE)(),v=(0,d.useCallback)(async()=>{await (null==u?void 0:u()),s&&(m(s),l("/"))},[l,u,m,s]),[C,{loading:f}]=(0,x.djM)(),_=e=>{let{title:i,description:t}=z.T[e]||{title:(0,n.jsx)(o.cC,{id:"U7nnQt"}),description:e};a.isActive(e)||a({title:i,description:t,position:"top",id:e,status:"error",isClosable:!0,duration:null})},b=(0,d.useCallback)(e=>{let n=h.r9[i];e.preventDefault(),C({variables:{input:{flow:n,workspaceId:s,inviteCode:t}}}).then(async e=>{var i;let{success:t}=(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.joinWorkspace)||{};t&&(await (null==u?void 0:u()),s&&(m(s),l("/")))}).catch(e=>{console.error("[Workspaces.JoinWorkspace] Error joining workspace",e.message)})},[s,i,t,C,l,u,m]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(P.xu,{children:(0,n.jsx)(I.K,{spacing:5,children:(0,n.jsx)(P.xu,{children:(0,n.jsx)(S.z,{type:"submit",variant:"solid",w:"100%",onClick:(null==p?void 0:p.authProvider)==="GOOGLE"?()=>{(0,h.DW)({type:i,params:{workspaceId:s,email:p.email,inviteCode:t},errorCallback:_,doneCallback:v})}:b,isLoading:f||g,children:(0,n.jsx)(o.cC,{id:"c9AJhn"})})})})})})},eI=()=>{let{user:e,isUserLoading:i}=(0,j.SE)(),{query:{workspaceId:t,email:r,code:s,r:g},push:v,isReady:C}=(0,c.useRouter)(),{referredBy:f,partnerStackClickId:_,partnerStackPartnerId:w}=b(g),{data:k,loading:y}=(0,x.HM7)({variables:{email:r,inviteCode:s,workspaceId:t},skip:!s||!r}),I=!C||i||y,S=k&&t&&"new"===t;(0,d.useEffect)(()=>{C&&!i&&e&&k&&!k.workspaceInvitation&&v("/")},[C,e,i,v,"/",k]);let E=(0,m.Sp)();return(0,$.gF)()?(0,n.jsx)(u.H$,{scenario:h._M.ACCEPT_WORKSPACE_INVITATION,"data-testid":"workspace-invitation-wrapper",children:I?(0,n.jsx)(a.$,{}):k&&k.workspaceInvitation?(0,n.jsxs)(u.h3,{lede:S?(0,n.jsxs)(n.Fragment,{children:["\uD83D\uDC4B ",(0,n.jsx)(o.cC,{id:"uzTaYi"})]}):(0,n.jsxs)(n.Fragment,{children:["\uD83C\uDF89 ",(0,n.jsx)(o.cC,{id:"5fucMx"})]}),title:S?(0,n.jsx)(o.cC,{id:"DbYuFS",values:{GAMMA_PROPER_NOUN:p.N6}}):e?k.workspaceInvitation.workspaceName?(0,n.jsx)(o.cC,{id:"2wwLHe",values:{0:k.workspaceInvitation.workspaceName}}):(0,n.jsx)(o.cC,{id:"EsVYoc"}):k.workspaceInvitation.workspaceName?(0,n.jsx)(o.cC,{id:"L3SXbi",values:{0:k.workspaceInvitation.workspaceName}}):(0,n.jsx)(o.cC,{id:"VlXlD9"}),showFooter:!0,showLogo:!0,children:[S?(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"l+wpFJ"})}):(0,n.jsx)(l.x,{children:k.workspaceInvitation.workspaceName?(0,n.jsx)(o.cC,{id:"s2FywE",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:p.aq,0:k.workspaceInvitation.workspaceName}}):(0,n.jsx)(o.cC,{id:"H/y2ny",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:p.aq}})}),E?(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"9iyJp1",values:{GAMMA_PROPER_NOUN:p.N6}})}):e?(0,n.jsx)(ey,{scenario:h._M.ACCEPT_WORKSPACE_INVITATION,inviteCode:s,workspaceId:t}):(0,n.jsx)(ev,{scenario:h._M.ACCEPT_WORKSPACE_INVITATION,redirectTo:"/",inviteCode:s,referredBy:f,workspaceId:t,inviteeEmail:r,partnerStackPartnerId:w,partnerStackClickId:_})]}):(0,n.jsx)(eS,{email:r})}):(0,n.jsx)(n.Fragment,{})},eS=e=>{let{email:i}=e;return(0,n.jsx)(u.h3,{lede:(0,n.jsxs)(n.Fragment,{children:["\uD83D\uDE41 ",(0,n.jsx)(o.cC,{id:"uAjg3Y"})]}),title:(0,n.jsx)(o.cC,{id:"0dimUT"}),showFooter:!0,showLogo:!0,children:i?(0,n.jsx)(o.cC,{id:"rpHTpL",values:{email:i}}):(0,n.jsx)(o.cC,{id:"VSc47y"})})};var eE=t(97010),eN=t(36371),eR=t(73582),eA=t(2969),eO=t(3181),eP=t(13272),eT=t(82655),eM=t(8940),eU=t(41638),eF=t(36660),eD=t(9577),eL=t(32132),ez=t(80615),eG=t(13592),eW=t(73709),eH=t(72190),eB=t(77555);let eK=()=>(0,n.jsx)(u.h3,{title:(0,n.jsx)(n.Fragment,{}),showLogo:!0,children:(0,n.jsx)(y.k,{w:"100%",h:"100%",align:"center",justify:"center",children:(0,n.jsx)(a.$,{})})}),eq=e=>{let{email:i,code:t,redirectTo:r,workspaceId:s,workspaceInviteCode:a,flow:c}=e,x=(0,ez.l)(),{user:h,isUserLoading:p,refetch:g}=(0,j.SE)(),{push:m}=(0,d.useContext)(u.mU),[v,C]=(0,d.useState)(x);(0,eG.m)(v);let[f,_]=(0,d.useState)(""),[b,w]=(0,d.useState)(""),[k,y]=(0,d.useState)(""),[S,E]=(0,d.useState)([]),[N,T]=(0,d.useState)(!1),U=f.length>0&&b.length>0&&k.length>0&&!S.length,F=(0,G.K)(),D=(0,d.useMemo)(()=>F.get(),[F]),[L,{loading:z,error:H}]=(0,eM.BlB)(),[B]=(0,eM.m9m)(),K=(0,d.useCallback)(()=>{m((0,n.jsx)(eV,{redirectTo:r,flow:c}))},[m,r,c]),q=(0,d.useCallback)(e=>{e.preventDefault(),L({variables:{input:{email:i,password:k,firstName:f,lastName:b,code:t,invite:{flow:c,workspaceId:s,inviteCode:a}}}}).then(async e=>{var i,t,n,r,s;let a=null===(t=e.data)||void 0===t?void 0:null===(i=t.signup)||void 0===i?void 0:i.id,l=null===(s=e.data)||void 0===s?void 0:null===(r=s.signup)||void 0===r?void 0:null===(n=r.organizations)||void 0===n?void 0:n[0].id;if(!a){console.error("[Setup.onContinue] No userId for new user");return}await B({variables:{patch:(0,eB.Yu)({set:{locale:v}})}}),await (null==g?void 0:g()),W.co.identify(a,{user_org_id:l,anonymous_user:!1,gamma_user_id:a}),W.co.track(W.AA.SIGNUP,{flow:c,provider:"password"},{context:D}),K()}).catch(e=>{console.error("[Setup.onContinue] Error signing up",e.message)})},[L,i,k,f,b,t,c,s,a,v,D,K,B,g]);return((0,d.useEffect)(()=>{p||(h?K():T(!0))},[p,h,K]),N)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(P.xu,{as:"form",onSubmit:q,children:[(0,n.jsxs)(I.K,{spacing:"5",children:[(0,n.jsxs)(R.NI,{children:[(0,n.jsx)(A.l,{htmlFor:"email",children:(0,n.jsx)(o.cC,{id:"O3oNi5"})}),(0,n.jsx)(O.I,{id:"email",type:"email",value:i,disabled:!0})]}),(0,n.jsxs)(R.NI,{children:[(0,n.jsx)(A.l,{htmlFor:"first name",children:(0,n.jsx)(o.cC,{id:"V1EGGU"})}),(0,n.jsx)(O.I,{id:"first name",type:"text",value:f,onChange:e=>_(e.currentTarget.value.slice(0,60)),autoFocus:!0})]}),(0,n.jsxs)(R.NI,{children:[(0,n.jsx)(A.l,{htmlFor:"last name",children:(0,n.jsx)(o.cC,{id:"1ZaQUH"})}),(0,n.jsx)(O.I,{id:"last name",type:"text",value:b,onChange:e=>w(e.currentTarget.value.slice(0,60))})]}),(0,n.jsxs)(R.NI,{children:[(0,n.jsx)(A.l,{flexDir:"row",display:"flex",alignItems:"center",children:(0,n.jsx)(o.cC,{id:"vXIe7J"})}),(0,n.jsx)(eD.Y,{selectedLocale:eL.w$[v],onLocaleSelect:C})]}),(0,n.jsx)(Z,{showHelp:!1,value:k,onChange:e=>{y(e.currentTarget.value),E(Q(e.currentTarget.value))},error:null==H?void 0:H.message}),(0,n.jsx)(P.xu,{h:"6em",children:k.length>0&&S.length?(0,n.jsx)(l.x,{textColor:"red.500",fontSize:"sm",children:(0,n.jsx)(eE.QI,{listStyleType:"none",children:S.map((e,i)=>(0,n.jsx)(eE.HC,{children:e},i))})}):(0,n.jsx)(M.L,{})})]}),(0,n.jsx)(eQ,{disabled:!U,onContinue:q,isLoading:z,showBack:!1})]}),(0,n.jsx)(M.L,{})]}):null},eJ=e=>{let{hasError:i,onChange:t,name:r,placeholder:s,onBlur:a}=e;return(0,n.jsxs)(R.NI,{isInvalid:i,children:[(0,n.jsx)(A.l,{children:(0,n.jsx)(o.cC,{id:"CozWO1"})}),(0,n.jsx)(O.I,{size:"lg",type:"text",onChange:t,value:r,placeholder:s,onBlur:a}),i&&(0,n.jsx)(X.J1,{children:(0,n.jsx)(o.cC,{id:"soNtuq",values:{WORKSPACE_NAME_MIN_LENGTH:g.My}})}),(0,n.jsxs)(R.Q6,{children:[(0,n.jsx)(o.cC,{id:"uCmOnS"})," ",(0,n.jsx)("span",{role:"img","aria-label":"thumbs up emoji",children:"\uD83D\uDC4D"})]})]})},eX=(e,i)=>i?"team"===e?V.ag._({id:"x8EWiU"}):V.ag._({id:"dJdqM7",values:{0:i.displayName}}):V.ag._({id:"CozWO1"}),eV=e=>{let{redirectTo:i,flow:t}=e,{push:r}=(0,d.useContext)(u.mU),{user:s,isUserLoading:a,currentWorkspace:l,setSettings:c}=(0,j.SE)(),[x,h]=(0,d.useState)({team:"",personal:""}),[p,{loading:m}]=(0,eM.Mqp)(),[v,C]=(0,d.useState)({team:!1,personal:!1}),[f,_]=(0,d.useState)(0),[b,w]=(0,d.useState)(null),k=0===f?"team":"personal",y=x[k],I=v[k],S=y.length<g.My||I,N=(0,d.useCallback)(()=>{r((0,n.jsx)(eY,{redirectTo:i}))},[r,i]),R=eX(k,s);(0,d.useEffect)(()=>{s&&""===x.personal&&((0,eB.AN)(s.email)&&_(1),(0,G.K)().fetch().then(e=>{var i;let t=null==e?void 0:null===(i=e.location)||void 0===i?void 0:i.country;t&&!(0,eB.BZ)(t)&&w(!0)}),h(e=>({...e,personal:"".concat(s.displayName,"'s Workspace")})))},[s,x]),(0,d.useEffect)(()=>{!a&&s&&s.settings&&!s.settings.showWorkspaceSetup&&N()},[a,s,t,N]);let A=(0,d.useCallback)(()=>{p({variables:{input:{name:y,id:null==l?void 0:l.id}},fetchPolicy:"no-cache"}).then(async()=>{W.co.track(W.AA.WORKSPACE_CREATED,{workspace_type:k}),await (null==c?void 0:c({remove:["showWorkspaceSetup"],set:{unsubscribeAnnouncementEmails:!0!==b,unsubscribeOnboardingEmails:!0!==b}})),N()}).catch(e=>{console.error('[Welcome] Error updating workspace name for "'.concat(null==l?void 0:l.id,'"'),e.message)})},[p,y,b,null==l?void 0:l.id,k,c,N]),O=(0,d.useCallback)(e=>{e.length>=g.My?C(e=>({...e,[k]:!1})):C(e=>({...e,[k]:!0}))},[k]),T=(0,d.useCallback)(e=>{O(e.target.value),h(i=>({...i,[k]:e.target.value.slice(0,50)}))},[O,k]);return a||!s?(0,n.jsx)(eK,{}):(0,n.jsxs)(u.h3,{title:(0,n.jsx)(o.cC,{id:"9chYz/"}),showLogo:!0,children:[(0,n.jsx)(E.U,{children:(0,n.jsxs)(eN.m,{w:"100%",variant:"soft-rounded",size:"sm",index:f,onChange:e=>_(e),children:[(0,n.jsxs)(eR.t,{flexDirection:["column","row"],children:[(0,n.jsxs)(eA.O,{mx:1,children:[(0,n.jsx)(P.xu,{mr:2,children:(0,n.jsx)(F.G,{icon:eT.iOm})}),(0,n.jsx)(o.cC,{id:"0LZe9p"})]}),(0,n.jsxs)(eA.O,{mx:1,children:[(0,n.jsx)(P.xu,{mr:2,children:(0,n.jsx)(F.G,{icon:ec.V3X})}),(0,n.jsx)(o.cC,{id:"7MuXko"})]})]}),(0,n.jsxs)(eO.n,{children:[(0,n.jsx)(eP.x,{id:"team-or-company-tab-panel",p:0,pt:8,children:(0,n.jsx)(eJ,{onChange:T,onBlur:e=>O(e.target.value),name:y,hasError:I,placeholder:R})}),(0,n.jsx)(eP.x,{id:"personal-tab-panel",p:0,pt:8,children:(0,n.jsx)(eJ,{onChange:T,onBlur:e=>O(e.target.value),name:y,hasError:I,placeholder:R})})]})]})}),(0,n.jsx)(M.L,{}),(0,n.jsx)(eQ,{disabled:S,onContinue:A,isLoading:m,showBack:!1,spacerBox:!1}),(0,n.jsx)(eW.q,{onChange:e=>{w(e.target.checked)},emailEnabled:!!b})]})},eY=e=>{let{redirectTo:i}=e,{push:t}=(0,c.useRouter)(),{user:r,isUserLoading:s}=(0,j.SE)(),a=(0,d.useCallback)(()=>{t(i||(0,eU.wH)())},[t,i]);return((0,d.useEffect)(()=>{!s&&r&&r.jobFunction&&a()},[s,r,a]),s||!r)?(0,n.jsx)(eK,{}):(0,n.jsxs)(u.h3,{title:(0,n.jsx)(o.cC,{id:"H8aFPr"}),showLogo:!0,children:[(0,n.jsx)(eH.a,{context:"setup",onSuccess:a}),(0,n.jsx)(M.L,{})]})},eQ=e=>{let{disabled:i,onContinue:t,isLoading:r,showBack:s,spacerBox:a=!0}=e,{pop:l}=(0,d.useContext)(u.mU);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(E.U,{children:[s&&(0,n.jsx)(S.z,{variant:"ghost",onClick:()=>l(),children:(0,n.jsx)(o.cC,{id:"iH8pgl"})}),(0,n.jsx)(S.z,{type:"submit",variant:"solid",isDisabled:i,flex:1,onClick:t,isLoading:r,children:(0,n.jsx)(o.cC,{id:"xGVfLh"})})]}),a&&(0,n.jsx)(P.xu,{h:6,children:"\xa0"})]})},eZ=()=>{let{query:e,isReady:i,push:t}=(0,c.useRouter)(),r=(0,d.useRef)(e);r.current=e;let{user:s,isUserLoading:a}=(0,j.SE)(),{data:x,loading:h}=(0,eM.NmH)({variables:{input:{email:r.current.email,code:r.current.code}},skip:!r.current.email||!r.current.code}),g=!i||a||h,[v,C]=(0,d.useState)(!1);(0,d.useEffect)(()=>{if(g||v)return;s||(null==x?void 0:x.verifyCode.verified)||t("/signup?error=invalid_signup_code");let{searchParams:e}=new URL(window.location.href);e.delete("email"),e.delete("code"),(0,eF.lO)({query:Object.fromEntries(e.entries())}),C(!0),(0,eh.j6)()},[g,v,t,s,r,x]);let f=(0,m.Sp)();return v?(0,n.jsx)(u.H$,{"data-testid":"signup-with-code",children:(0,n.jsx)(u.h3,{title:(0,n.jsx)(o.cC,{id:"cpE88+"}),showLogo:!0,children:f?(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"9iyJp1",values:{GAMMA_PROPER_NOUN:p.N6}})}):(0,n.jsx)(eq,{email:r.current.email,code:r.current.code,workspaceId:r.current.workspace,flow:r.current.flow,workspaceInviteCode:r.current.wcode,redirectTo:r.current.redirect_to})})}):null},e$=()=>{let e=(0,r.p)(),[i,t]=(0,d.useState)(""),{push:s}=(0,d.useContext)(u.mU),[a,{loading:c,error:h}]=(0,x.QnR)(),p=!!i.match(eg),j=(0,d.useCallback)(async e=>{e.preventDefault();let t=x.e8z.Reset;a({variables:{input:{email:i,token:await (0,et.Uj)(t).catch(e=>{throw Error("[getRecaptchaToken] error for ".concat(t,": ").concat(e))}),scenario:x.nUC.Reset}}}).then(e=>{var t;let{link:r,provider:a}=(null===(t=e.data)||void 0===t?void 0:t.sendCode)||{};s((0,n.jsx)(e0,{email:i,link:r,provider:a,resend:j}))}).catch(e=>{console.error("[Forgot.onSendClick] Error trying to send password reset link",e.message)})},[a,i,s]);return(0,d.useEffect)(()=>{h&&e({id:"reset_password_error",title:(0,n.jsx)(o.cC,{id:"Rh1Dte"}),status:"error",position:"top",duration:5e3})},[h,e]),(0,n.jsxs)(u.h3,{title:(0,n.jsx)(o.cC,{id:"RfwZxd"}),showLogo:!0,children:[(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"aj/hsq"})}),(0,n.jsx)(P.xu,{as:"form",onSubmit:j,children:(0,n.jsxs)(I.K,{spacing:5,children:[(0,n.jsxs)(R.NI,{children:[(0,n.jsx)(A.l,{htmlFor:"email",children:(0,n.jsx)(o.cC,{id:"O3oNi5"})}),(0,n.jsx)(O.I,{id:"email",type:"email",value:i,onChange:e=>t(e.currentTarget.value),autoFocus:!0})]}),(0,n.jsx)(S.z,{type:"submit",variant:"solid",isDisabled:!p,w:"100%",onClick:j,isLoading:c,children:(0,n.jsx)(o.cC,{id:"8+xXUn"})}),(0,n.jsxs)(l.x,{fontSize:"sm",textAlign:"center",mt:3,children:[(0,n.jsx)(o.cC,{id:"cVqf24"})," ",(0,n.jsx)(T.r,{color:"trueblue.500",href:"/signin",as:L(),children:(0,n.jsx)(o.cC,{id:"5lWFkC"})})]})]})}),(0,n.jsx)(M.L,{})]})},e0=e=>{let{email:i,link:t,provider:s,resend:a}=e,c=(0,r.p)();return(0,n.jsxs)(u.h3,{title:(0,n.jsx)(o.cC,{id:"XcX6up"}),children:[(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"P083h3",values:{email:i},components:{0:(0,n.jsx)("strong",{})}})}),(0,n.jsxs)(l.x,{fontSize:"sm",textAlign:"center",mt:3,children:[(0,n.jsx)(o.cC,{id:"rRHK5M"})," ",(0,n.jsx)(T.r,{color:"trueblue.500",onClick:e=>{c({id:"link_resent",title:(0,n.jsx)(o.cC,{id:"lDVEsi"}),status:"success",position:"top",duration:5e3}),a(e)},children:(0,n.jsx)(o.cC,{id:"J/jxKQ"})})]}),(0,n.jsx)(I.K,{spacing:"6",children:(0,n.jsx)(eo.U,{in:i,children:t&&s&&(0,n.jsx)(S.z,{w:"100%",onClick:()=>window.open(t,"_blank"),variant:"plain",rightIcon:(0,n.jsx)(F.G,{icon:ec.wlW}),autoFocus:!0,children:(0,n.jsx)(o.cC,{id:"y1RN4W",values:{provider:s}})})})}),(0,n.jsx)(M.L,{})]})},e1=()=>{let e=(0,r.p)(),{query:{error:i}}=(0,c.useRouter)(),t=(0,$.gF)(),s=(0,m.Sp)()&&t;return(0,d.useEffect)(()=>{if(i&&i in z.T){let{title:t,description:r}=z.T[i]||{title:(0,n.jsx)(o.cC,{id:"U7nnQt"}),description:i};e.isActive("error")||e({id:"error",title:t,description:r,status:"error",position:"top",duration:null})}},[i,e]),(0,n.jsx)(u.H$,{"data-testid":"reset-password",children:s?(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"jO28tJ",values:{GAMMA_PROPER_NOUN:p.N6}})}):(0,n.jsx)(e$,{})})},e5=e=>{let{email:i,code:t}=e,s=(0,r.p)(),[a,h]=(0,d.useState)(""),[p,g]=(0,d.useState)([]),m=a.length>0&&!p.length,{push:v}=(0,c.useRouter)(),{refetch:C}=(0,j.SE)(),[f,{loading:_}]=(0,x.gL8)(),b=(0,d.useCallback)(e=>{e.preventDefault(),f({variables:{input:{email:i,code:t,newPassword:a}}}).then(()=>{s({id:"password-changed",title:(0,n.jsx)(o.cC,{id:"a+l/oL"}),status:"success",position:"top",duration:5e3}),null==C||C(),v("/")}).catch(e=>{console.error("[Reset.onResetClick] Error trying to send password reset link",e.message)})},[f,i,t,a,s,C,v]);return(0,n.jsxs)(u.h3,{title:(0,n.jsx)(o.cC,{id:"slOprG"}),showLogo:!0,children:[(0,n.jsxs)(P.xu,{as:"form",onSubmit:b,children:[(0,n.jsxs)(I.K,{spacing:"5",mb:4,children:[(0,n.jsx)(Z,{showHelp:!0,label:(0,n.jsx)(o.cC,{id:"VpwcSk"}),value:a,onChange:e=>{h(e.currentTarget.value),g(Q(e.currentTarget.value))}}),(0,n.jsx)(P.xu,{minH:"4em",children:a.length>0&&p.length?(0,n.jsx)(l.x,{textColor:"red.500",fontSize:"sm",children:(0,n.jsx)(eE.QI,{listStyleType:"none",m:0,children:p.map((e,i)=>(0,n.jsx)(eE.HC,{children:e},i))})}):(0,n.jsx)(M.L,{})})]}),(0,n.jsx)(S.z,{type:"submit",variant:"solid",isDisabled:!m,onClick:b,isLoading:_,children:(0,n.jsx)(o.cC,{id:"RfwZxd"})})]}),(0,n.jsx)(M.L,{})]})},e2=()=>{let{query:{email:e,code:i},isReady:t,push:r}=(0,c.useRouter)(),s=(0,$.gF)(),a=(0,m.Sp)()&&s,{data:h,loading:j}=(0,x.NmH)({variables:{input:{email:e,code:i}},skip:!e||!i}),g=!t||j,[v,C]=(0,d.useState)(!1);return((0,d.useEffect)(()=>{if(g||v)return;h&&h.verifyCode.verified||r("/forgot?error=invalid_reset_code");let{searchParams:e}=new URL(window.location.href);e.delete("email"),e.delete("code"),(0,eF.lO)({query:Object.fromEntries(e.entries())}),C(!0)},[g,v,h,r]),v)?(0,n.jsx)(u.H$,{"data-testid":"reset-password",children:a?(0,n.jsx)(l.x,{children:(0,n.jsx)(o.cC,{id:"jO28tJ",values:{GAMMA_PROPER_NOUN:p.N6}})}):(0,n.jsx)(e5,{email:e,code:i})}):null}},99793:function(e,i,t){t.d(i,{J1:function(){return p}});var n=t(35183),r=t(62929),s=t(9165),a=t(29058),l=t(91982),o=t(84586),c=t(76801),d=t(31053),u=t(52322),[x,h]=(0,s.k)({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "}),p=(0,a.G)((e,i)=>{let t=(0,l.jC)("FormError",e),r=(0,o.Lr)(e),s=(0,n.NJ)();return(null==s?void 0:s.isInvalid)?(0,u.jsx)(x,{value:t,children:(0,u.jsx)(c.m.div,{...null==s?void 0:s.getErrorMessageProps(r,i),className:(0,d.cx)("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...t.text}})}):null});p.displayName="FormErrorMessage",(0,a.G)((e,i)=>{let t=h(),s=(0,n.NJ)();if(!(null==s?void 0:s.isInvalid))return null;let a=(0,d.cx)("chakra-form__error-icon",e.className);return(0,u.jsx)(r.J,{ref:i,"aria-hidden":!0,...e,__css:t.icon,className:a,children:(0,u.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}).displayName="FormErrorIcon"},73481:function(e,i,t){t.d(i,{P:function(){return x}});var n=t(31053),r=t(29058),s=t(76801),a=t(52322),l=(0,r.G)(function(e,i){let{children:t,placeholder:r,className:l,...o}=e;return(0,a.jsxs)(s.m.select,{...o,ref:i,className:(0,n.cx)("chakra-select",l),children:[r&&(0,a.jsx)("option",{value:"",children:r}),t]})});l.displayName="SelectField";var o=t(76874),c=t(91982),d=t(84586),u=t(2784),x=(0,r.G)((e,i)=>{var t;let r=(0,c.jC)("Select",e),{rootProps:u,placeholder:x,icon:h,color:p,height:g,h:m,minH:v,minHeight:C,iconColor:f,iconSize:_,...b}=(0,d.Lr)(e),[w,k]=function(e,i){let t={},n={};for(let[r,s]of Object.entries(e))i.includes(r)?t[r]=s:n[r]=s;return[t,n]}(b,d.oE),y=(0,o.Y)(k),I={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...null==(t=r.field)?void 0:t._focus}};return(0,a.jsxs)(s.m.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:p},...w,...u,children:[(0,a.jsx)(l,{ref:i,height:null!=m?m:g,minH:null!=v?v:C,placeholder:x,...y,__css:I,children:e.children}),(0,a.jsx)(j,{"data-disabled":(0,n.PB)(y.disabled),...(f||p)&&{color:f||p},__css:r.icon,..._&&{fontSize:_},children:h})]})});x.displayName="Select";var h=e=>(0,a.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),p=(0,s.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),j=e=>{let{children:i=(0,a.jsx)(h,{}),...t}=e,n=(0,u.cloneElement)(i,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,a.jsx)(p,{...t,className:"chakra-select__icon-wrapper",children:(0,u.isValidElement)(i)?n:null})};j.displayName="SelectIcon"}}]);
//# sourceMappingURL=3480-52be40ab9051a2e1.js.map