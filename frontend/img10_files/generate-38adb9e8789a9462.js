(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6821],{94603:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create/generate",function(){return n(66427)}])},91755:function(e,t,n){"use strict";n.d(t,{r:function(){return U},h:function(){return I}});var i=n(52322),r=n(332),o=n(38035),a=n(43297),s=n(77533),c=n(62614),l=n(81672),d=n(42946),u=n(49929),x=n(2784),p=n(92035),m=n(87103),f=n(40382),h=n(32817),g=n(69465),j=n(92744),v=n(5879),b=n(30240),w=n(33279),y=n(23691),k=n(11082),C=n(1997),N=n(71147),_=n(53250),P=n(86290),M=n(31601),A=n(97134),E=n(34308),O=n(82302),R=n(72928),Z=n(18960);let D=[{Component:()=>{let e=(0,b.ye)("outageButterbar");if(!e.enabled)return null;let{header:t,text:n,buttonLink:r,buttonText:o,key:a,pathnameRegexp:s}=e;return(0,i.jsx)(I,{definition:{key:a,header:t,text:n,buttonText:o,buttonLink:r,conditions:()=>!s||null!==window.location.pathname.match(new RegExp(s))}})},key:"outage-butterbar"},{Component:()=>"NORMAL"===(0,b.ye)("openAiStatus")?null:(0,i.jsx)(I,{definition:{key:"ai-service-status",header:(0,i.jsx)(v.cC,{id:"1Agl06"}),text:(0,i.jsx)(v.cC,{id:"cCl6WD"}),ttl:86400,conditions:()=>(0,w._r)(window.location.pathname)}}),key:"ai-service-status-butterbar"},{Component:()=>{var e,t,n;let{user:r,currentWorkspace:o}=(0,A.SE)(),{subscription:a,product:s}=(0,E.z)(),{launchFailedPaymentFlow:c,failedPaymentFlowEnabled:l}=(0,_.ET)({subscription:a,workspace:o,autoLaunch:!1});if(!a||!s)return null;let{name:d,dontChurnMessage:u}=(0,O.KL)()[s],{status:x,expirationTime:p,id:m}=a,f=(0,P.p6)(p,"MMMM do, yyyy"),h=(null==a?void 0:null===(e=a.createdByUser)||void 0===e?void 0:e.id)===(null==r?void 0:r.id),g=(0,R._8)(),j=p>Date.now();if(!("unpaid"===x||"past_due"===x)&&!j)return null;let b=g&&(h||!(null==a?void 0:a.createdByUser))?(0,i.jsx)(v.cC,{id:"velw1T",values:{expirationFormatted:f,GAMMA_PROPER_NOUN:y.N6,productName:d},components:{0:(0,i.jsx)(k.r,{href:g,isExternal:!0,textDecoration:"underline"})}}):(0,i.jsx)(v.cC,{id:"9aBOfk",values:{expirationFormatted:f,GAMMA_PROPER_NOUN:y.N6,productName:d,0:null===(t=a.createdByUser)||void 0===t?void 0:t.displayName,1:null===(n=a.createdByUser)||void 0===n?void 0:n.email},components:{0:(0,i.jsx)("b",{}),1:(0,i.jsx)("b",{})}});return(0,i.jsx)(I,{definition:{key:"payment-overdue-".concat(m),header:(0,i.jsx)(v.cC,{id:"gosJne",values:{productName:d}}),text:(0,i.jsxs)(i.Fragment,{children:[u," ",b]}),buttonText:(0,i.jsx)(v.cC,{id:"WLvqZR"}),buttonLink:l?void 0:g,buttonOnClick:l?c:void 0}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:t}=(0,E.z)();if(!e)return null;let{status:n,expirationTime:r,id:o}=e;if(!(new Date>(0,C.Z)(r)&&new Date<(0,N.Z)((0,C.Z)(r),{days:10})))return null;let a=()=>t({segmentEvent:M.AA.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR}),s=(0,i.jsx)(k.r,{onClick:a,isExternal:!0,textDecoration:"underline",children:(0,i.jsx)(v.cC,{id:"mj68q/"})});return(0,i.jsx)(I,{definition:{key:"subscription-expired-".concat(o),header:(0,i.jsx)(v.cC,{id:"5nhH6A"}),text:(0,i.jsxs)(i.Fragment,{children:["unpaid"===n||"past_due"===n?(0,i.jsx)(v.cC,{id:"QdgXJv"}):""," ",s]}),buttonText:(0,i.jsx)(v.cC,{id:"kwkhPe"}),buttonOnClick:a}})},key:"subscription-expired-butterbar"},{Component:()=>{var e,t,n;let{user:r}=(0,A.SE)(),{subscription:o,product:a}=(0,E.z)();if(!o||!a)return null;let{status:s,expirationTime:c,id:l,cancellationRequestedTime:d}=o;if(!("canceled"!=s&&d&&new Date<(0,C.Z)(c)&&new Date>(0,N.Z)((0,C.Z)(c),{days:-7})))return null;let u=(null==o?void 0:null===(e=o.createdByUser)||void 0===e?void 0:e.id)===(null==r?void 0:r.id),x=(0,R._8)(),p=(0,P.p6)(c,"MMMM do, yyyy"),{name:m,dontChurnMessage:f}=(0,O.KL)()[a],h=!u&&(null==o?void 0:o.createdByUser)?(0,i.jsx)(v.cC,{id:"z4DeyC",values:{expirationFormatted:p,GAMMA_PROPER_NOUN:y.N6,productName:m,0:null===(t=o.createdByUser)||void 0===t?void 0:t.displayName,1:null===(n=o.createdByUser)||void 0===n?void 0:n.email},components:{0:(0,i.jsx)("b",{}),1:(0,i.jsx)("b",{})}}):(0,i.jsx)(v.cC,{id:"qP91+f",values:{expirationFormatted:p,GAMMA_PROPER_NOUN:y.N6,productName:m},components:{0:(0,i.jsx)(k.r,{href:x,isExternal:!0,textDecoration:"underline"})}});return(0,i.jsx)(I,{definition:{key:"subscription-ending-soon-".concat(l),header:(0,i.jsx)(v.cC,{id:"THJAvC",values:{productName:m}}),text:(0,i.jsxs)(i.Fragment,{children:[f," ",h]}),buttonText:(0,i.jsx)(v.cC,{id:"3jHA5d"}),buttonLink:x}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,i.jsx)(v.cC,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:y.N6}}),text:(0,i.jsx)(v.cC,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:y.N6}}),conditions:()=>(0,p.dA)(),dismissKey:Z.H.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,i.jsx)(v.cC,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:y.N6}}),text:(0,i.jsx)(v.cC,{id:"Tf7VpJ"}),conditions:()=>S()&&(0,p.ds)(),dismissKey:Z.H.lastDismissedPreferredBrowserMessage}],S=()=>(0,p.jP)()||!(0,p.i7)()&&!(0,p.G6)()&&!(0,p.NA)(),U=e=>{let{isViewOnly:t}=e,n=(0,f.gF)();if(t||!n||(0,p.l6)()||m.cx||(0,g.wg)())return null;let a=D.map(e=>"Component"in e?(0,i.jsx)(e.Component,{},e.key):(0,i.jsx)(I,{definition:e},e.key));return(0,i.jsx)(r.h,{children:(0,i.jsx)(o.k,{"data-testid":"butterbar",direction:"column",top:2,pos:"absolute",zIndex:2,sx:{"> *:not(:first-child)":{display:"none"}},children:a})})},I=e=>{let{definition:t}=e,{key:n,dismissKey:r="butterbar-dismiss-".concat(n),header:p,text:m,buttonText:f,buttonLink:g,buttonOnClick:v=g?()=>window.open(g,"_blank"):void 0,conditions:b,ttl:w}=t,[y,k]=(0,h.I)(r,!1);if((0,x.useEffect)(()=>{w&&y&&new Date().getTime()-new Date(y).getTime()>1e3*w&&j.W.removeItem(r)},[r,y,w]),b&&!b()||y)return null;let C=f&&v;return(0,i.jsxs)(o.k,{bg:"indigo.500",color:"white",py:3,px:4,fontSize:"sm",borderRadius:"lg",gap:4,position:"fixed",left:"50%",transform:"translateX(-50%)",shadow:"lg",width:{base:"calc(100% - 1rem)",md:"auto"},direction:{base:"column",lg:"row"},children:[(0,i.jsxs)(a.K,{spacing:0,flex:1,pr:{base:12,lg:0},children:[(0,i.jsx)(s.x,{fontWeight:"bold",children:p}),(0,i.jsx)(s.x,{opacity:"0.7",fontSize:"xs",children:m})]}),C&&(0,i.jsx)(c.z,{flexShrink:0,variant:"plain",size:"sm",rightIcon:g?(0,i.jsx)(u.G,{icon:d.wlW}):void 0,onClick:v,children:f}),(0,i.jsx)(o.k,{alignSelf:"flex-start",position:{base:"absolute",lg:"static"},right:4,top:4,children:(0,i.jsx)(l.P,{colorScheme:"whiteAlpha",size:"sm",onClick:()=>{k(String(new Date))}})})]})}},40068:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var i=n(52322),r=n(38035),o=n(91755);let a=e=>{let{children:t,withFooter:n,isViewOnly:a}=e;return(0,i.jsxs)(r.k,{direction:"column",width:"100%",height:"100%",minHeight:"var(--100vh)",bgColor:"gray.100",color:"gray.800",children:[(0,i.jsx)(o.r,{isViewOnly:a}),(0,i.jsx)(r.k,{zIndex:"1",id:"main",flex:"1",justifyContent:"center",alignItems:"center",direction:"column",position:"relative",children:t}),n&&(0,i.jsxs)(r.k,{fontSize:"12px",color:"gray.400",pb:8,id:"footer",justifyContent:"center",children:["\xa9 ",new Date().getFullYear()," Gamma Tech, Inc."]})]})};function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withFooter:!1,isViewOnly:!1},{withFooter:n,isViewOnly:r}=t,o=t=>(0,i.jsx)(a,{withFooter:n,isViewOnly:r,children:(0,i.jsx)(e,{...t})});return"getInitialProps"in e&&(o.getInitialProps=e.getInitialProps),o}},43301:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var i=n(52322),r=n(5632),o=n(2784),a=n(36660),s=n(46692);function c(e){return(0,o.memo)(t=>{let{push:n,query:c}=(0,r.useRouter)(),l="sites-dashboard"===c.ref,d=(0,o.useMemo)(()=>({goToScreen:(e,t)=>{let{generateId:i="",ref:r,channelId:o}=t||{},a=new URLSearchParams({...r&&{ref:r},...o&&{channelId:o}}).toString(),s=a?"?".concat(a):"";switch(e){case"createWithAI":n("/create".concat(s));break;case"createImport":n("/create/import".concat(s));break;case"createPaste":n("/create/paste".concat(s));break;case"createGenerate":n("/create/generate/".concat(i).concat(s));break;case"legacyGuidedMode":n("/generate".concat(s));break;case"promptEditor":n("/generate/".concat(i).concat(s));break;case"home":n("/");break;default:throw Error("invalid screen")}},onDocGenerationLoaded:e=>{(0,a.lO)({pathname:"/create/generate/".concat(e),emitChange:!1})},navEnabled:!0,webpageOnly:l,skipThemeStep:!1}),[n,l]);return(0,i.jsx)(s.u$.Provider,{value:d,children:(0,i.jsx)(e,{...t})})})}},86290:function(e,t,n){"use strict";n.d(t,{BK:function(){return y},Dw:function(){return w},Km:function(){return b},dN:function(){return j},p6:function(){return v}});var i=n(87254),r=n(45441),o=n(1997),a=n(14292),s=n(84060),c=n(71840),l=n(41173),d=n(24537),u=n(27248),x=n(43104),p=n(16890),m=n(68630),f=n(75568),h=n(58563);let g={en:l.Z,"pt-br":d.Z,ja:u.Z,"zh-cn":x.Z,"zh-tw":p.Z,es:m.Z,fr:f.Z,ko:h.Z},j=()=>g[i.ag.locale]||void 0,v=(e,t)=>e?(0,r.Z)((0,o.Z)(e),t,{locale:j()}):"",b=(e,t)=>e?(0,a.Z)((0,o.Z)(e),t?(0,o.Z)(t):new Date,{locale:j()}):"",w=e=>e?(0,s.Z)((0,o.Z)(e),{locale:j()}):"",y=e=>e?(0,c.Z)((0,o.Z)(e),new Date,{locale:j(),addSuffix:!0,roundingMethod:"floor"}):""},49863:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var i=n(9351),r=n(2784),o=n(97134);let a=()=>{let{push:e}=(0,i.useRouter)(),{userStatus:t}=(0,o.SE)();(0,r.useEffect)(()=>{"loggedOut"===t&&e("/signin?redirect_to=".concat(encodeURIComponent(window.location.href)))},[t,e])}},66427:function(e,t,n){"use strict";n.r(t);var i=n(52322),r=n(14568),o=n(40068),a=n(51990),s=n(43301),c=n(49863),l=n(19358);t.default=(0,r.z)((0,o.o)((0,s.$)(()=>((0,c.o)(),(0,l.g)())?(0,i.jsx)(a.m,{autosetLocale:!0}):null)))}},function(e){e.O(0,[7662,8433,2182,2812,8774,9542,5417,6694,146,4078,3273,9025,5333,4424,8707,3661,116,823,5687,5321,4993,1399,3215,6410,3452,9180,2217,7596,6518,7119,6562,2842,7245,9035,7238,8999,5542,6749,9770,5806,5647,5112,6905,9687,2594,1990,2888,9774,179],function(){return e(e.s=94603)}),_N_E=e.O()}]);
//# sourceMappingURL=generate-38adb9e8789a9462.js.map